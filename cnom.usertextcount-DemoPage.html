<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
  <script>
  /*! ===========================================================
   * Developed by cnom. 
   * A script library for custom user input interaction (validation etc). 
   * Requires jquery!
   * ========================================================== */
  
  // Use DocumentReady event, to avoid false timing on js loaded!!!
  $(document).ready(function () {
  
      // A function to display a count of characters of user input fields
      // the selector below will catch the keyup events of elements decorated with class textlimited and have a maxlength
      // it can be applied in <input type="text"> and <textarea> etc. 
      // It requires an extra <span> (or other text container) element decorated with class textcounter to display the count
  
      // example usage:
      /*!
      <textarea class="textlimited" data-textcounterid="counter1" maxlength="30">text</textarea>
      <span class='textcounter' id="counter1"></span>
      */
      $(".textlimited[maxlength]").keyup(function () {
          //get the fields limit
          var maxLength = $(this).attr("maxlength");
  
          // check if the limit is passed
          if (this.value.length > maxLength) {
              return false;
          }
  
          // find the counter element by the id specified in the source input element
          var counterElement = $(".textcounter#" + $(this).data("textcounterid"));
          // update counter 's text
          counterElement.html((maxLength - this.value.length) + " chars left");
      });
  });
  </script>
</head>

<body>
  <textarea class="textlimited" data-textcounterid="counter1" maxlength="30">keep typing</textarea>
  <span class='textcounter' id="counter1"></span>

  <br/>
  <textarea maxlength="20"></textarea>

  <br/>
  <input type="text" class="textlimited" data-textcounterid="counter2" maxlength="10" />
  <div>
    <span class='textcounter' id="counter2"></span>
  </div>

</body>
</html>
